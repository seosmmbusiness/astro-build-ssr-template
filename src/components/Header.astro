---
import { defaultLocale } from "../i18n/config";
import { translations } from "../i18n/translate";
import { getRelativeLocaleUrl } from 'astro:i18n';
import LanguagePicker from "./LanguagePicker.astro";

let { locale } = Astro.params;

if(!locale) {
  locale = defaultLocale;
}

const t = await translations(locale);

const home = getRelativeLocaleUrl(locale, '');
const about = getRelativeLocaleUrl(locale, '/about');
const coffee = getRelativeLocaleUrl(locale, '/coffee');
---
<header class="bg-white">
  <nav class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8" aria-label="Global">
    <div class="flex flex-1">
      <a href={home} class="-m-1.5 p-1.5">
        <span class="sr-only">Your Company</span>
        <img class="h-8 w-auto" src="https://tailwindcss.com/plus-assets/img/logos/mark.svg?color=indigo&shade=600" alt="" />
      </a>
    </div>
    <div class="flex gap-2 lg:gap-x-12">
      <a href={home} class="text-sm/6 font-semibold text-gray-900">Home</a>
      <a href={about} class="text-sm/6 font-semibold text-gray-900">About</a>
      <a href={coffee} class="text-sm/6 font-semibold text-gray-900">Coffee</a>
    </div>
    <div class="flex lg:flex-1 lg:justify-end pl-2 ">
      <LanguagePicker/> 
    </div>
  </nav>

</header>
